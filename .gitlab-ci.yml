image: dominikhastrich/java-gitlab-cd

stages:
  - modules

build_modules:
  stage: modules
  script: 
  - gradle jacocoTestReport jacocoCombinedReport coveralls build
  - gradle generatePomFileForMavenJavaPublication artifactoryPublish
  - gradle versionEyeUpdate
  artifacts:
    expire_in: 5 days
    name: ${CI_BUILD_STAGE}
